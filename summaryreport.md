# 2018中级实训总结报告
## 数据科学与计算机学院
## 姓名 梁育诚
## 学号 16340133
## 教务二班

---

## 前言
&emsp;&emsp;为期一个月的中级实训即将结束，在这里我将回顾这个一个月里面完成的实训项目，以阶段为单位对完成的制品进行分析，以及谈到一些自己的心得体会。

### 阶段一
&emsp;&emsp;实训开始的第一阶段，首先是对于vim, ant, junit, sonar和java进行自学。并且通过自学，进行简单的junit测试、使用build.xml进行编译运行java程序、使用sonar改进自己的代码。以下分点总结：
  + 首先是Java，这是一门很出名的程序设计语言，在本次实训项目GridWorld中，充分利用了它的GUI来绘制图形化界面。在现在这门语言也是非常的有用。因为自己在之前的假期对java进行了一定的自学，因此在基本的语法上没有太多的困难。个人认为主要的难点在于java文件的package，这既是java的优点，也是java容易坑人的地方。优点在于，package给程序员提供了类似包管理的功能。这样使得程序员可以把同类型的class放在一起，在使用的时候可以直接引入，而不需要像C++那样一个一个include。而缺点在于，如果对Java的package管理不熟悉的话，很容易在编译的时候遇到错误。说到编译，这里就牵涉到了路径的问题，为了更好地学习Java编译的过程，我个人是比较喜欢使用命令行编译和运行java程序的。在整个实训阶段如果要编译运行某个程序的时候，需要在命令中加入`-cp`的参数，后面要跟上编译运行中可能需要访问到的路径。使用命令行让我更加熟悉整个项目的文件结构，虽然耗费的时间要比使用Eclipse要多，但是我认为这是值得的。
  + 其次是ant命令。ant的使用很大程度上节省了很多时间。正如上面所说的，使用命令行较为耗费时间，因此如果适当地编写`build.xml`文件，再使用`ant`命令就可以一次过把项目编译运行甚至是进行Junit，大大地提高了编程效率。在随后的任务中，我也会自己使用ant来测试代码。
  + 然后是junit单元测试。junit为我们提供了一个简单的测试代码的工具。把Junit和Ant结合在一起可以有效地对代码的正确性进行检测。
  + 最后就是sonar了。整个实训需要提交的代码都需要经过Sonar的检测，Sonar从多个方面对代码进行了评估，包括复杂度、注释、风格、冗余程度等方面。这样很有效地提高了代码的可读性和健壮性。第一次使用Sonar评估自己代码的时候报了很多Major，而且注释也不多。经过一个月的实训，到后来写的代码的Major就少很多了，同时注释的比例也好了很多，可以说Sonar改善了我编程的习惯。

&emsp;&emsp;总的来说，阶段一写代码的部分是比较少的，主要是要在短时间内熟悉几个工具的使用，为之后的阶段打好基础。

### 阶段二
&emsp;&emsp;相比起阶段一，阶段二需要写的代码就多了很多，但是，主要是对Bug的行为做更改。因为都是继承，所以实际上自己写的代码也不多，关键是要很好地理解父类的行为，这样才能更好地利用原有的代码。
  + Part2：这一部分是控制一只Bug在Grid中走各种特殊的形状，如圆形、旋转、Z形等，要点是对Bug的`act()`方法进行重写。
  + Part3： 这一部分是要求对Bug的移动行为作修改，Bug每次移动两格，类似于跳跃，当然也要注意判断碰到边界或石头等特殊情况。同时还需要使用Junit测试。测试要点是对比各个Actor的位置信息。
  + Part4：这一部分是对Bug周围位置的物体进行特殊化处理，每个Bug对周围的物体都有不同的处理方法，主要是重写`getActors()`和`processActors()`这两个方法
  + Part5：这一部分是对Grid的存储方式进行更改，使得存储的效率更高，在Grid稀疏的情况下，使用HashMap或TreeMap将更加高效。而在Grid稠密的情况下，使用数组存储将更有效。

  阶段二的内容很多，涉及到了这次实训基础代码的各个部分，在这一阶段中，需要我很耐心地去阅读基础代码，要弄明白基础代码中各个class的含义和行为，这样才能在已有的基础上添加新的功能。


### 阶段三
&emsp;&emsp;阶段三涉及到了图片处理和搜索算法的内容，难度比起前两个要大一些，但是也不难理解。
  + 首先是图像的处理。使用二进制流读入图片，并且实现对图片颜色通道的提取。一开始看到任务的时候觉得很难，因为这些都是自己没有接触过的方面。但是仔细阅读了文档后，尤其是网页中推荐的博客后，对位图的存储有了更深一层的了解。清楚了二进制代码中每一部分的作用，读取的工作就变得简单了。对于颜色的处理，我很大程度上借助了Color这个类，实现了三色到RGB数值的转换，这样可以节省很多自己处理的代码。
  + 其次是MazeBug。这是基于一个深度优先算法的搜索的迷宫问题。原理其实很简单，Bug不断去寻找可以移动的位置，并且把当前位置和下一个位置记录下来，如果可以移动则进行移动，否则就返回上一个位置，这样不断地循环直至找到终点。算法的关键在于要确保Bug进行移动的时候不会走到已经走过的位置（除非已经走不通，需要返回），这就是需要使用到**栈**的原因。同时，基于深度优先算法，我们可以对Bug的移动进行优化。根据Bug已经选择过的方向，在四个方向中，我们根据四个方向选择次数的不同，赋予每个方向不同被选中概率，然后再随机选择。也就是说，Bug会更有可能地按照之前选择次数较多的方向走。如果迷宫具有很强的方向倾向性，那么这种优化对于减少Bug的移动次数是很有效的。但是对于较弱方向倾向性的迷宫而言，这种方法可能会增加Bug的移动次数。
  + 最后是求解拼图。拼图的求解是基于宽度优先算法的，目的是最快地找到从初始状态到目标状态的一条路径，即求解路径。由于空白位置的移动方向最多只有四个，因此我们可以把每个状态构成的数据结构看成是一颗**四叉树**，即每个状态最多可以有四个子状态，然后我们使用宽度优先搜索，如果找到目标状态则停止，如果一直都找不到，则证明求解失败。同时，文档也给出另一种搜索的方法，为每个状态增加一个**估值**。这个估值表示这个节点距离正确状态的距离。也就是说，一个状态的估值越小，说明它越接近目标状态，所以我们需要优先地搜索这个状态的子状态。对于估值的生成，文档给出了三个方法：所有放错位的数码个数、所有放错位的数码与其正确位置的距离之和、后续节点不正确的数码个数。把它们都计算出来后，适当调整三者的权值就可以尽可能地减少算法访问节点的次数，从而提高求解效率。

  &emsp;&emsp;这一部分学习到了一些关于搜索算法方面的东西，感觉很巧妙，可惜时间有点少，没有办法再深入探讨找到更多优化的方法。同时我对于图片在计算机中的存储有了更深的了解，这对于以后的学习是很有帮助的。

  ### 个人心得和体会
  &emsp;&emsp;经历了极度忙碌和劳累的一个月，尤其是周末的时候，感觉很辛苦很疲劳。但是现在回过头来看自己做出来的东西，心里也觉得这是值得的。这一个月学习到的东西真的太多太多。如果不是以实训这种形式，可能我两个月都学不到这么多东西。

  &emsp;&emsp;整个实训阶段，我认为对自己提升最大的地方是自己的纠错能力。因为这次实训基础的代码已经给出，所以基本上不需要自己从无到有地去写代码，更关键的是如何在读懂别人代码的情况下加以修改和拓展，这个其中就会遇到很多错误。很多时候自己想的和别人想的不是一回事，如果把自己的代码融入进别人的框架中是需要耐心的。报错是常有的事情，这个时候更加需要仔细地、耐心地去阅读别人的代码，画UML类图，理清楚类和类之间的关系。能够学到这样的技能对于日后与其他同学团队协作开发是很有意义的。

  &emsp;&emsp;同时，这次实训使用的Sonar评测也很大程度上改善了我编程的习惯。尤其是在风格上和代码的结构上，尽可能地把一样的部分提取出来，把功能分开，这样能够很好地增强代码的可读性，也能体现出自己的编程思路。

  &emsp;&emsp;总的来说这次中级实训学到了很多的东西，付出的很多，收获的也很多。自己既有技术知识水平上的提升，也在心理素质方面有了很大的提高。最后也感谢这一个月一直陪伴的TA们，也正是因为有了TA们在群里面不停的回答问题和在实验室从早到晚的检查，才保证了实训的顺利进行。
